<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contributing to SpectroChemPy &mdash; SpectroChemPy v0.4.7 0.4.7 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_override.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-rendered-html.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/scpy.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contributing to the code" href="contributing_codebase.html" />
    <link rel="prev" title="Developer’s Guide" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/scpy.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.4.7
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">

    <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
      <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> SpectroChemPy </span>
        version: stable
        <span class="fa fa-caret-down"></span>
      </span>
        <div class="rst-other-versions">
            <dl>
                <dt>Other versions</dt>
                
                    
                        <dd><a href="https://www.spectrochempy.fr/latest/index.html"">LATEST</a></dd>
                    
                
                    
                
            </dl>
            <hr/>
            <dl>
                <dt>Sources on GitHub</dt>
                <dd><a href="https://github.com/spectrochempy/spectrochempy/releases/latest">Stable</a></dd>
                <dd><a href="https://github.com/spectrochempy/spectrochempy/tree/master/">Latest</a></dd>

            </dl>

        </div>
    </div>

    
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted/whyscpy.html">Why <strong>SpectroChemPy</strong>  ?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted/gallery/auto_examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted/install/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted/papers.html">Papers citing <strong>SpectroChemPy</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User's Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userguide/introduction/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/objects.html">Data structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/importexport/importexport.html">Import &amp; Export</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/plotting/plotting.html">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/processing/processing.html">Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/analysis/analysis.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/units/units.html">Units &amp; Quantities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/databases/databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/api/api.html">API Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference &amp; Help</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../userguide/reference/changelog.html">What’s new</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/reference/index.html">Public API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/reference/faq.html">Frequently asked questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="issues.html">Bug reports &amp; feature request</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Sharing examples &amp; tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer’s Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Contributing to SpectroChemPy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-principles">General Principles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#be-prepared-to-work-on-the-code">Be prepared to work on the code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#contributing-your-changes-to-spectrochempy">Contributing your changes to SpectroChemPy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tips-for-a-successful-pull-request">Tips for a successful pull request</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="contributing_codebase.html">Contributing to the code</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing_codespecifics.html">Contributing to specific parts of the code</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing_documentation.html">Contributing to the documentation</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Credits</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../credits/credits.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits/credits.html#third-party-licences">Third-party Licences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits/citing.html">Citing  <strong>SpectroChemPy</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits/license.html">SpectroChempy License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits/license.html#other-licenses">Other Licenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits/seealso.html">See also</a></li>
</ul>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SpectroChemPy v0.4.7</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Developer’s Guide</a> &raquo;</li>
      <li>Contributing to SpectroChemPy</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/devguide/contributing.rst" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
    
    
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="contributing-to-spectrochempy">
<span id="contributing"></span><h1>Contributing to SpectroChemPy<a class="headerlink" href="#contributing-to-spectrochempy" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table of contents:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#general-principles" id="id1">General Principles</a></p></li>
<li><p><a class="reference internal" href="#be-prepared-to-work-on-the-code" id="id2">Be prepared to work on the code</a></p>
<ul>
<li><p><a class="reference internal" href="#version-control-git-and-github" id="id3">Version control, Git, and GitHub</a></p></li>
<li><p><a class="reference internal" href="#installing-git" id="id4">Installing git</a></p></li>
<li><p><a class="reference internal" href="#optional-installing-a-gui-git-client" id="id5">Optional: installing a GUI git client</a></p></li>
<li><p><a class="reference internal" href="#forking-the-spectrochempy-repository" id="id6">Forking the spectrochempy repository</a></p></li>
<li><p><a class="reference internal" href="#creating-a-python-development-environment" id="id7">Creating a Python development environment</a></p></li>
<li><p><a class="reference internal" href="#controlling-the-environments" id="id8">Controlling the environments</a></p></li>
<li><p><a class="reference internal" href="#creating-a-branch" id="id9">Creating a branch</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#contributing-your-changes-to-spectrochempy" id="id10">Contributing your changes to SpectroChemPy</a></p>
<ul>
<li><p><a class="reference internal" href="#commit-your-code" id="id11">Commit your code</a></p></li>
<li><p><a class="reference internal" href="#push-your-changes" id="id12">Push your changes</a></p></li>
<li><p><a class="reference internal" href="#review-your-code" id="id13">Review Your Code</a></p></li>
<li><p><a class="reference internal" href="#make-the-pull-request-pr" id="id14">Make the pull request (PR)</a></p></li>
<li><p><a class="reference internal" href="#update-your-pull-request" id="id15">Update your pull request</a></p></li>
<li><p><a class="reference internal" href="#automatically-fix-formatting-errors" id="id16">Automatically fix formatting errors</a></p></li>
<li><p><a class="reference internal" href="#delete-your-merged-branch-optional" id="id17">Delete your merged branch (optional)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tips-for-a-successful-pull-request" id="id18">Tips for a successful pull request</a></p></li>
</ul>
</div>
<section id="general-principles">
<h2><a class="toc-backref" href="#id1">General Principles</a><a class="headerlink" href="#general-principles" title="Permalink to this headline">¶</a></h2>
<p>The instructions below are a general guide. We are (or rather will be) doing our best to follow this guide, so if you want to contribute, we encourage you to follow it as well. But you don’t have to follow everything to the letter: any kind of contribution is welcome!</p>
<p>In this guide, we will talk about some basic but very useful contributions such as issues reporting and of some more advanced topics concerning contributions to documentation and to the code base.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="issues.html">Reporting Issues</a></li>
</ul>
</div>
</section>
<section id="be-prepared-to-work-on-the-code">
<h2><a class="toc-backref" href="#id2">Be prepared to work on the code</a><a class="headerlink" href="#be-prepared-to-work-on-the-code" title="Permalink to this headline">¶</a></h2>
<p>To contribute further to the code and documentation, you will need learning how to work with GitHub and the <strong>SpectroChemPy</strong> Code base.</p>
<section id="version-control-git-and-github">
<span id="contributing-version-control"></span><h3><a class="toc-backref" href="#id3">Version control, Git, and GitHub</a><a class="headerlink" href="#version-control-git-and-github" title="Permalink to this headline">¶</a></h3>
<p>The code of <strong>SpectroChemPy</strong> is hosted on <a class="reference external" href="https://www.github.com/spectrochempy/spectrochempy">GitHub</a>. To contribute, you will need to register for a <a class="reference external" href="https://github.com/signup/free">free GitHub account</a>. Actually, you may have already done so by submitting issues, so you are also almost ready to contribute to the code.</p>
<p>The reason we use <a class="reference external" href="https://git-scm.com/">Git</a> for version control of our code is to allow multiple people to work on this project simultaneously.</p>
<p>However, working with <a class="reference external" href="https://git-scm.com/">Git</a> is unfortunately not the easiest step for a newcomer when trying to contribute to open-source software. But learning this versioning system along with developing with Python can be very rewarding for your daily work.</p>
<p>To learn <a class="reference external" href="https://git-scm.com/">Git</a>, you may want to check out the <a class="reference external" href="https://help.github.com/">GitHub help pages</a> or the
<a class="reference external" href="https://numpy.org/doc/stable/dev/index.html">NumPy’s documentation</a>. There is no shortage of resources on the web on this subject and many tutorials are available.</p>
<p>Below we give some essential information to get you started with <strong>Git</strong>, but, of course, if you encounter difficulties, don’t hesitate to ask for help. This may help to solve your problems faster, but it also allows us to improve this part of our documentation based on your feedback.</p>
</section>
<section id="installing-git">
<h3><a class="toc-backref" href="#id4">Installing git</a><a class="headerlink" href="#installing-git" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://help.github.com/set-up-git-redirect">GitHub</a> has instructions for installing and configuring git.  All these steps need to be completed before you can work seamlessly between your local repository and GitHub.</p>
<p>Git is a free and open source distributed control system used in well-known software repositories, such as
<a class="reference external" href="https://github.com">GitHub</a> or <a class="reference external" href="https://bitbucket.org">Bitbucket</a>. For this project, we use a GitHub
repository: <a class="reference external" href="https://github.com/spectrochempy/spectrochempy">spectrochempy repository</a>.</p>
<p>Depending on your operating system, you may refer to these pages for installation instructions:</p>
<ul>
<li><p><a class="reference external" href="https://git-scm.com/download/mac">Download Git for macOS</a> (One trivial option is to install <a class="reference external" href="https://developer.apple.com/xcode/">XCode</a> which is shipped with the git system).</p></li>
<li><p><a class="reference external" href="https://git-scm.com/download/win">Download Git for Windows</a>.</p></li>
<li><p><a class="reference external" href="https://git-scm.com/download/linux">Download for Linux and Unix</a>. For the common Debian/Ubuntu distribution, it is as simple as typing in the Terminal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install git
</pre></div>
</div>
</li>
<li><p>Alternatively, once miniconda or anaconda is installed (see <a class="reference internal" href="#contributing-environment"><span class="std std-ref">Creating a Python development environment</span></a>), one can use conda to install
git:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda install git
</pre></div>
</div>
</li>
</ul>
<p>To check whether or not <em>git</em> is correctly installed, use</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git --version
</pre></div>
</div>
</section>
<section id="optional-installing-a-gui-git-client">
<h3><a class="toc-backref" href="#id5">Optional: installing a GUI git client</a><a class="headerlink" href="#optional-installing-a-gui-git-client" title="Permalink to this headline">¶</a></h3>
<p>Once your installation of git is complete, it may be useful to install a GUI client for the git version system.</p>
<p>We have been using <a class="reference external" href="https://www.sourcetreeapp.com">SourceTree client</a> (which can be installed on both Windows and Mac operating systems). To configure and learn how to use the sourcetree GUI application, you can consult this
<a class="reference external" href="https://confluence.atlassian.com/bitbucket/tutorial-learn-bitbucket-with-sourcetree-760120235.html">tutorial</a></p>
<p>However, any other GUI can be interesting such as <a class="reference external" href="https://desktop.github.com">Github-desktop</a>, or if you prefer, you can stay using the command line in a terminal.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Many IDE such as <a class="reference external" href="https://www.jetbrains.com/fr-fr/pycharm/">PyCharm</a> have an integrated GUI git client which can be used in place of an external application. This is an option that we use a lot (in combination to the more visual SourceTree application)</p>
</div>
</section>
<section id="forking-the-spectrochempy-repository">
<span id="contributing-forking"></span><h3><a class="toc-backref" href="#id6">Forking the spectrochempy repository</a><a class="headerlink" href="#forking-the-spectrochempy-repository" title="Permalink to this headline">¶</a></h3>
<p>You will need your own fork to work on the code. Go to the <a class="reference external" href="https://github.com/spectrochempy/spectrochempy">SpectroChemPy project page</a> and hit the <code class="docutils literal notranslate"><span class="pre">Fork</span></code> button to create an exact copy of the project on your account.</p>
<p>Then you will need to clone your fork to your machine. The fastest way is to type these commands in a terminal on your machine:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/your-user-name/spectrochempy.git localfolder
<span class="nb">cd</span> localfolder
git remote add upstream https://github.com/spectrochempy/spectrochempy.git
</pre></div>
</div>
<p>This creates the directory <code class="docutils literal notranslate"><span class="pre">localfolder</span></code> and connects your repository to the upstream (main project) <strong>SpectroChemPy</strong> repository.</p>
</section>
<section id="creating-a-python-development-environment">
<span id="contributing-environment"></span><h3><a class="toc-backref" href="#id7">Creating a Python development environment</a><a class="headerlink" href="#creating-a-python-development-environment" title="Permalink to this headline">¶</a></h3>
<p>To test out code and documentation changes, you’ll need to build <strong>SpectroChemPy</strong> from source, which requires a Python environment.</p>
<ul class="simple">
<li><p>Install either <a class="reference external" href="https://www.anaconda.com/download/">Anaconda</a>, <a class="reference external" href="https://conda.io/miniconda.html">miniconda</a>, or <a class="reference external" href="https://github.com/conda-forge/miniforge">miniforge</a></p></li>
<li><p>Make sure your conda is up to date (<code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">update</span> <span class="pre">conda</span></code>)</p></li>
<li><p>Make sure that you have <a class="reference internal" href="#contributing-forking"><span class="std std-ref">cloned the repository</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cd</span></code> to the <strong>SpectroChemPy</strong> source directory (<em>i.e.,</em> <code class="docutils literal notranslate"><span class="pre">localfolder</span></code> created previously)</p></li>
</ul>
<p>We’ll now install <strong>SpectroChemPy</strong> in development mode following 2 steps:</p>
<ol class="arabic">
<li><p>Create and activate the environment. This will create a new environment and will not touch
any of your other existing environments, nor any existing Python installation.
(conda installer is somewhat very slow, this is why we prefer to replace it by
<a class="reference external" href="https://https://github.com/mamba-org/mamba">mamba</a>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda update conda -y
conda config --add channels conda-forge
conda config --add channels cantera
conda config --add channels spectrocat
conda config --set channel_priority flexible
conda install mamba jinja2
</pre></div>
</div>
<p>Here we will create un environment using python in its version 3.9
but it is up to you to install any version from 3.6.9 to 3.9.
Just change the relevant information in the code below (the first line uses a
script to create the necessary yaml
file containing all information about the packages to install):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python .ci/env_create.py -v <span class="m">3</span>.9 --dev scpy3.9.yml
mamba env create -f .ci/scpy3.9.yml
conda activate scpy3.9
</pre></div>
</div>
</li>
<li><p>Install <strong>SpectroChemPy</strong></p>
<p>Once your environment is created and activated, we must install SpectroChemPy
in development mode.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>scpy3.9<span class="o">)</span> $ <span class="nb">cd</span> &lt;spectrochempy folder&gt;
<span class="o">(</span>scpy3.9<span class="o">)</span> $ python -m pip install -e .
</pre></div>
</div>
<p>At this point you should be able to import spectrochempy from your local
development version:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>scpy3.9<span class="o">)</span> $ python
</pre></div>
</div>
<p>This start an interpreter in which you can check your installation.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">scp</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
<span class="go">SpectroChemPy&#39;s API ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exit</span><span class="p">()</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="controlling-the-environments">
<h3><a class="toc-backref" href="#id8">Controlling the environments</a><a class="headerlink" href="#controlling-the-environments" title="Permalink to this headline">¶</a></h3>
<p>You can create as many environments you want, using the method above
(for example with different versions of Python)</p>
<p>To view your environments:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda info -e
</pre></div>
</div>
<p>To return to your root environment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda deactivate
</pre></div>
</div>
<p>See the full conda docs <a class="reference external" href="https://conda.pydata.org/docs">here</a>.</p>
</section>
<section id="creating-a-branch">
<h3><a class="toc-backref" href="#id9">Creating a branch</a><a class="headerlink" href="#creating-a-branch" title="Permalink to this headline">¶</a></h3>
<p>Generally we want the master branch to reflect only production-ready code, so you will have to create a
feature branch for making your changes. For example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git branch my_new_feature
git checkout my_new_feature
</pre></div>
</div>
<p>The above can be simplified to:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout -b my_new_feature
</pre></div>
</div>
<p>This changes your working directory to the <code class="docutils literal notranslate"><span class="pre">my-new-feature</span></code> branch.  Keep any changes in this branch specific to one bug or feature so it is clear what the branch brings to spectrochempy. You can have many <code class="docutils literal notranslate"><span class="pre">my-other-new-feature</span></code>
branches and switch in between them using the:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout command.
</pre></div>
</div>
<p>When creating this branch, make sure your master branch is up to date with the latest upstream master version. To update your local master branch, you can do</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout master
git pull upstream master --ff-only
</pre></div>
</div>
<p>When you want to update the feature branch with changes in the master after you have created the
you have created the branch, see the section on
<a class="reference internal" href="#contributing-update-pr"><span class="std std-ref">updating a PR</span></a>.</p>
</section>
</section>
<section id="contributing-your-changes-to-spectrochempy">
<h2><a class="toc-backref" href="#id10">Contributing your changes to SpectroChemPy</a><a class="headerlink" href="#contributing-your-changes-to-spectrochempy" title="Permalink to this headline">¶</a></h2>
<section id="commit-your-code">
<span id="contributing-commit-code"></span><h3><a class="toc-backref" href="#id11">Commit your code</a><a class="headerlink" href="#commit-your-code" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are not easy with the command lines,
Remember that all the following <code class="xref py py-obj docutils literal notranslate"><span class="pre">git</span></code> operations can be done using a GUI application such as <code class="docutils literal notranslate"><span class="pre">sourcetree</span></code>
or whatever you prefer.</p>
</div>
<p>Keep style corrections in a separate commit to make your pull request more readable.</p>
<p>Once you’ve made changes, you can see them by typing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git status
</pre></div>
</div>
<p>If you created a new file, it is not tracked by git. Add it by typing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git add path/to/file-to-be-added
</pre></div>
</div>
<p>By typing <code class="xref py py-obj docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> again, you should get something like</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># On the my-new-feature branch</span>
<span class="c1">#</span>
<span class="c1"># modified: /path/to/file-to-be-added</span>
<span class="c1">#</span>
</pre></div>
</div>
<p>Finally, commit your changes to your local repository with an explanatory message.</p>
<p>It is recommended to use a convention for prefixes and the presentation of commit messages.
Here are some common prefixes:</p>
<ul class="simple">
<li><p>ENH: Enhancement, new feature</p></li>
<li><p>FIX: Bug fixes</p></li>
<li><p>DOC: Documentation additions/updates</p></li>
<li><p>TEST: Test additions/updates</p></li>
<li><p>BUILD: Build process/script updates</p></li>
<li><p>PERF: Performance improvements</p></li>
<li><p>MAINT: Code cleanup</p></li>
</ul>
<p>The following defines how a commit message should be structured:</p>
<ul class="simple">
<li><p>a subject line with <code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">80</span></code> chars (optionally starting with one of the above prefixes).</p></li>
<li><p>One blank line.</p></li>
<li><p>Optionally, a commit message body.</p></li>
</ul>
<p>Please reference the
relevant GitHub issues in your commit message using GH1234 or #1234.</p>
<p>Now you can commit your changes to your local repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git commit -m &lt;message&gt;
</pre></div>
</div>
</section>
<section id="push-your-changes">
<span id="contributing-push-code"></span><h3><a class="toc-backref" href="#id12">Push your changes</a><a class="headerlink" href="#push-your-changes" title="Permalink to this headline">¶</a></h3>
<p>When you want your changes to appear publicly on your GitHub page, push the commits of your forked feature branch:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git push origin my-new-feature
</pre></div>
</div>
<p>Here, <code class="xref py py-obj docutils literal notranslate"><span class="pre">origin</span></code> is the default name given to your remote repository on GitHub.
You can see the remote repositories:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git remote -v
</pre></div>
</div>
<p>If you added the upstream repository as described above, you’ll see something
like</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>origin git@github.com:yourname/spectrochemp.git <span class="o">(</span>fetch<span class="o">)</span>
origin git@github.com:yourname/spectrochempy.git <span class="o">(</span>push<span class="o">)</span>
upstream git://github.com/spectrochempy/spectrochempy.git <span class="o">(</span>fetch<span class="o">)</span>
upstream git://github.com/spectrochempy/spectrochempy.git <span class="o">(</span>push<span class="o">)</span>
</pre></div>
</div>
<p>Now your code is on GitHub, but it is not yet part of the SpectroChemPy project. For this to happen, a pull request must be submitted on GitHub.</p>
</section>
<section id="review-your-code">
<h3><a class="toc-backref" href="#id13">Review Your Code</a><a class="headerlink" href="#review-your-code" title="Permalink to this headline">¶</a></h3>
<p>When you are ready to request a code review, file a review request. Before doing so, make sure
again that you have followed all the guidelines described in this document
regarding code style, testing, performance testing and documentation. You should also
check the changes in your branch against the branch on which it was based:</p>
<ol class="arabic simple">
<li><p>Navigate to your repository on GitHub – <a class="reference external" href="https://github.com/your-user-name/spectrochempy">https://github.com/your-user-name/spectrochempy</a></p></li>
<li><p>Click on <code class="docutils literal notranslate"><span class="pre">Branches</span></code>.</p></li>
<li><p>Click on the <code class="docutils literal notranslate"><span class="pre">Compare</span></code> button for your feature branch.</p></li>
<li><p>Select the <code class="docutils literal notranslate"><span class="pre">base</span></code> and <code class="docutils literal notranslate"><span class="pre">compare</span></code> branches, if necessary. This will be <code class="docutils literal notranslate"><span class="pre">master</span></code> and
and <code class="docutils literal notranslate"><span class="pre">my-new-feature</span></code>, respectively.</p></li>
</ol>
</section>
<section id="make-the-pull-request-pr">
<h3><a class="toc-backref" href="#id14">Make the pull request (PR)</a><a class="headerlink" href="#make-the-pull-request-pr" title="Permalink to this headline">¶</a></h3>
<p>If everything looks good, you are ready to make a pull request.  A pull request is the way
code from a local repository is made available to the GitHub community can be
reviewed and eventually merged into the master version.  This request and its associated changes
will eventually be integrated into the master branch and available in the next release.  To submit a change request:</p>
<ol class="arabic simple">
<li><p>Navigate to your repository on GitHub.</p></li>
<li><p>Click the <code class="docutils literal notranslate"><span class="pre">Pull</span> <span class="pre">Request</span></code> button.</p></li>
<li><p>You can then click on <code class="docutils literal notranslate"><span class="pre">Commits</span></code> and <code class="docutils literal notranslate"><span class="pre">Files</span> <span class="pre">Changed</span></code> to make sure that everything is fine one last time</p></li>
<li><p>Write a description of your changes in the <code class="docutils literal notranslate"><span class="pre">Preview</span> <span class="pre">Discussion</span></code> tab.</p></li>
<li><p>Click on <code class="docutils literal notranslate"><span class="pre">Send</span> <span class="pre">Pull</span> <span class="pre">Request</span></code>.</p></li>
</ol>
<p>This request will then be sent to the repository maintainers, and they will review
the code.</p>
</section>
<section id="update-your-pull-request">
<span id="contributing-update-pr"></span><h3><a class="toc-backref" href="#id15">Update your pull request</a><a class="headerlink" href="#update-your-pull-request" title="Permalink to this headline">¶</a></h3>
<p>Depending on the evaluation of your pull request, you will probably need to make
some changes to the code. In this case, you can make them in your branch,
add a new commit to that branch, push it to GitHub. This will automatically update your pull request with the latest
code and restart the
<a class="reference internal" href="contributing_codebase.html#contributing-ci"><span class="std std-ref">Continuous Integration</span></a> tests.</p>
<p>Another reason you might need to update your pull request is to resolve conflicts
with changes that have been merged into the master branch since you opened your
pull request.</p>
<p>To do this, you need to <code class="docutils literal notranslate"><span class="pre">merge</span> <span class="pre">upstream</span> <span class="pre">master</span></code> in your branch:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout my-new-feature
git fetch upstream
git merge upstream/master
</pre></div>
</div>
<p>If there are no conflicts (or if they were able to be fixed automatically),
a file with a default commit message will open, and you can simply save and exit this file.</p>
<p>If there are merge conflicts, you must resolve the conflicts. See for example
example at <a class="reference external" href="https://help.github.com/articles/resolving-a-merge-conflict-using-the-command-line/">https://help.github.com/articles/resolving-a-merge-conflict-using-the-command-line/</a>
for an explanation of how to do this.</p>
<p>Once the conflicts are merged and the files where the conflicts were resolved are added, you can run
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code> to save these corrections.</p>
<p>If you have uncommitted changes at the time you want to update the branch with
the master, you’ll need to <code class="docutils literal notranslate"><span class="pre">stash</span></code> them before you update (see the
<a class="reference external" href="https://git-scm.com/book/en/v2/Git-Tools-Stashing-and-Cleaning">stash docs</a>).
This will effectively store your changes and they can be reapplied after the update.</p>
<p>After the feature branch has been updated locally, you can now update your pull
request by pushing again to the branch on GitHub.</p>
</section>
<section id="automatically-fix-formatting-errors">
<h3><a class="toc-backref" href="#id16">Automatically fix formatting errors</a><a class="headerlink" href="#automatically-fix-formatting-errors" title="Permalink to this headline">¶</a></h3>
<p>We use several style checks (i.e., <code class="docutils literal notranslate"><span class="pre">black</span></code>, <code class="docutils literal notranslate"><span class="pre">flake8</span></code>) that are run after
you make a download request. If there is a scenario where one of these checks fails then you
can comment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>@github-actions pre-commit
</pre></div>
</div>
<p>On that pull request. This will trigger a workflow that will automatically correct the formatting errors.</p>
<p>To automatically correct formatting errors on every commit you make, you can
configure the pre-commit yourself. First, create a Python environment <a class="reference internal" href="#contributing-environment"><span class="std std-ref">environment</span></a>, then configure <a class="reference internal" href="contributing_codebase.html#contributing-pre-commit"><span class="std std-ref">pre-commit</span></a>.</p>
</section>
<section id="delete-your-merged-branch-optional">
<h3><a class="toc-backref" href="#id17">Delete your merged branch (optional)</a><a class="headerlink" href="#delete-your-merged-branch-optional" title="Permalink to this headline">¶</a></h3>
<p>Once your feature branch is accepted upstream, you will probably want to get rid of
the branch. First, merge upstream master into your branch so that git knows it’s safe to
delete your branch:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git fetch upstream
git checkout master
git merge upstream/master
</pre></div>
</div>
<p>Then you can do</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git branch -d my-new-feature
</pre></div>
</div>
<p>Make sure you use a lowercase <code class="docutils literal notranslate"><span class="pre">d</span></code>, otherwise git won’t tell you if your feature branch
branch hasn’t been merged.</p>
<p>The branch will still exist on GitHub, so to delete it, do</p>
<blockquote>
<div><p>git push origin –delete my-new-feature</p>
</div></blockquote>
</section>
</section>
<section id="tips-for-a-successful-pull-request">
<h2><a class="toc-backref" href="#id18">Tips for a successful pull request</a><a class="headerlink" href="#tips-for-a-successful-pull-request" title="Permalink to this headline">¶</a></h2>
<p>To improve the chances that your pull request will be reviewed, you should</p>
<ul class="simple">
<li><p><strong>Reference an open issue</strong> for non-trivial changes to clarify the purpose of the PR.</p></li>
<li><p><strong>Make sure you have appropriate tests</strong>.</p></li>
<li><p><strong>Keep your PR requests as simple as possible</strong>. Large PRs take longer to review.</p></li>
<li><p><strong>Make sure the CI is in a green state</strong>. Reviewers may not look otherwise</p></li>
<li><p><strong>Keep</strong> <a class="reference internal" href="#update-your-pull-request">Update your pull request</a>, either per request or every few days.</p></li>
</ul>
</section>
</section>


           </div>
          </div>

          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Developer’s Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="contributing_codebase.html" class="btn btn-neutral float-right" title="Contributing to the code" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2014-2022 - A.Travert &amp; C.Fernandez @ LCS.
      <span class="lastupdated">Last updated on May 16, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>