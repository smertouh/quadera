<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Install a Docker container &mdash; SpectroChemPy v0.4.8.dev4 0.4.8.dev4 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/theme_override.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-rendered-html.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/scpy.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/scpy.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.4.8.dev4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">

    <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
      <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> SpectroChemPy </span>
        version: latest
        <span class="fa fa-caret-down"></span>
      </span>
        <div class="rst-other-versions">
            <dl>
                <dt>Other versions</dt>
                
                    
                
                    
                        <dd><a href="https://www.spectrochempy.fr/stable/index.html">STABLE</a></dd>
                    
                
            </dl>
            <hr/>
            <dl>
                <dt>Sources on GitHub</dt>
                <dd><a href="https://github.com/spectrochempy/spectrochempy/releases/latest">Stable</a></dd>
                <dd><a href="https://github.com/spectrochempy/spectrochempy/tree/master/">Latest</a></dd>

            </dl>

        </div>
    </div>

    
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../whyscpy.html">Why <strong>SpectroChemPy</strong>  ?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/auto_examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../papers.html">Papers citing <strong>SpectroChemPy</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User's Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../userguide/introduction/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userguide/objects.html">Data structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userguide/importexport/importexport.html">Import &amp; Export</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userguide/plotting/plotting.html">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userguide/processing/processing.html">Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userguide/analysis/analysis.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userguide/units/units.html">Units &amp; Quantities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userguide/databases/databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userguide/api/api.html">API Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference &amp; Help</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../userguide/reference/changelog.html">What’s new</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userguide/reference/index.html">Public API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userguide/reference/faq.html">Frequently asked questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devguide/issues.html">Bug reports &amp; feature request</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devguide/examples.html">Sharing examples &amp; tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devguide/index.html">Developer’s Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Credits</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../credits/credits.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../credits/credits.html#third-party-licences">Third-party Licences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../credits/citing.html">Citing  <strong>SpectroChemPy</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../credits/license.html">SpectroChempy License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../credits/license.html#other-licenses">Other Licenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../credits/seealso.html">See also</a></li>
</ul>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SpectroChemPy v0.4.8.dev4</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Install a Docker container</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/gettingstarted/install/install_docker.rst" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
    
        <div class="admonition warning">
            <p class="first admonition-title">Note</p>
            <p class="last"> You are reading the documentation related to the development version.
                <a href="https://www.spectrochempy.fr/stable/index.html">Go here</a> if you are looking for the documentation of the last
                release.
            </p>
        </div>
    
    
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="install-a-docker-container">
<span id="install-docker"></span><h1>Install a Docker container<a class="headerlink" href="#install-a-docker-container" title="Permalink to this heading">¶</a></h1>
<p>Docker is an open platform for shipping, and running applications. It allows to run
<strong>SpectroChemPy</strong> in an unified environment whatever the host platform is,
avoiding all potential installation problems as the images created have been tested before being shipped.</p>
<section id="installation">
<span id="install-docker-details"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h2>
<p>Before going further, if <strong>Docker</strong> is not yet installed on your system, you need to install it.
Refer to <a class="reference external" href="https://www.docker.com/products/docker-desktop">this page</a> to download the
version you need.</p>
<section id="additional-steps-on-windows">
<h3>Additional steps on windows<a class="headerlink" href="#additional-steps-on-windows" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://docs.microsoft.com/en-us/windows/wsl/install-win10#manual-installation-steps">Enable WSL, install a Linux distribution, and update to WSL 2</a>.</p>
<ul class="simple">
<li><p>Open PowerShell as Administrator : to do this <strong>RIGHT</strong>-click on the start button and select <code class="xref py py-obj docutils literal notranslate"><span class="pre">Windows</span> <span class="pre">Powershell</span> <span class="pre">(admin)</span></code></p></li>
<li><p>run</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart

dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
</pre></div>
</div>
<ul>
<li><p>Restart your machine to complete the WSL install.</p></li>
<li><p>Update WSL to version 2:</p>
<ul class="simple">
<li><p>Download the latest package : <a class="reference external" href="WSL2Linuxkernelupdatepackageforx64machines">WSL2 Linux kernel update package for x64 machines</a>
and install.</p></li>
<li><p>Open PowerShell and run this command to set WSL 2 as the default version.</p></li>
</ul>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">wsl</span> <span class="p">-</span><span class="n">-set-default-version</span> <span class="n">2</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>Install <a class="reference external" href="https://www.docker.com/products/docker-desktop">Docker Desktop</a>.</p>
<ul>
<li><p>Once installed, start Docker Desktop from the Windows Start menu, then select the Docker icon from the hidden icons
menu of your taskbar. Right-click the icon to display the Docker commands menu and select “Settings”.</p>
<img alt="docker_hidden_menu" src="../../_images/docker1.png" />
<ul class="simple">
<li><p>Ensure that “Use the WSL 2 based engine” is checked in Settings &gt; General.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>TO BE COMPLETED</p>
</div>
</section>
</section>
<section id="executing-a-scpy-docker-container">
<h2>Executing a <strong>SpectroChemPy</strong> Docker container<a class="headerlink" href="#executing-a-scpy-docker-container" title="Permalink to this heading">¶</a></h2>
<p>This be done using the following <code class="docutils literal notranslate"><span class="pre">Docker</span> <span class="pre">run</span></code> command :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker run -v /path/on/host:/home/jovyan/work <span class="se">\</span>
           -p <span class="m">8888</span>:8888 <span class="se">\</span>
           --name scpy <span class="se">\</span>
           spectrocat/spectrochempy:latest <span class="se">\</span>
           start.sh jupyter lab
</pre></div>
</div>
<p>This command will create a container where python, jupyter lab and spectrochempy are preinstalled. During the
creation of the container, the image containing these componrents will be downloaded from our Docker repository.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This may take a while the first time this command is executed due to the size of the image to be downloaded, but
once this is done, the image will be saved on your system so it will not be downloaded again except
some update are detected</p>
</div>
<p><strong>Description of the parameters</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">-v</span></code> or <code class="docutils literal notranslate"><span class="pre">--volume</span></code> allows to bind a local directory with the Docker application. For instance if you
want to works on files located in <code class="docutils literal notranslate"><span class="pre">C:\Users\toto\mywork</span></code>, you can use:</p>
<p><code class="docutils literal notranslate"><span class="pre">-v</span> <span class="pre">//C:/Users/myaccount/mywork:/home/jovyan/work</span></code>.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">backslash</span> <span class="pre">(\)</span></code> separator of windows path must be replaced by simple <code class="docutils literal notranslate"><span class="pre">slash</span> <span class="pre">(/)</span></code>.</p>
<p>The container will be unable to access directories at upper levels than those specified in <code class="docutils literal notranslate"><span class="pre">-v</span></code> bindings. Thus if
for instance you need to access to a directory where you your data are savec you will need to write a binding
explicitly. You can bind as many directory you want.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker run -v /path/on/host:/home/jovyan/work <span class="se">\</span>
           -v /another/path/on/host:/home/jovyan/data <span class="se">\</span>
           -p <span class="m">8888</span>:8888 <span class="se">\</span>
           --name scpy-latest <span class="se">\</span>
           spectrocat/spectrochempy:latest <span class="se">\</span>
           start.sh jupyter lab
</pre></div>
</div>
<p>Another possibility is to select for example your home directory; in this
case you will have access as on your local system to all files accessibles
from here.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">-p</span></code> is used to map an host port to the internal container port=8888 used by jupyter lab by default (It is not
directly accessible). For instance, if you write -p 10000:8888, the Jupyter Lab application will be accessible on the
host on port 10000.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--name</span></code>: This is optional to specify a container name. If not given a random name will be chosen.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spectrocat/spectrochempy:latest</span></code> This is the name of the image to download.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">start.sh</span> <span class="pre">jupyter</span> <span class="pre">lab</span></code> This is a command to start the Jupyter lab server.</p></li>
</ul>
<p>Once the <code class="docutils literal notranslate"><span class="pre">Docker</span> <span class="pre">run</span></code> command is exectuted in a terminal, it will output some information and display the internal
address at the end:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>...

To access the server, open this file <span class="k">in</span> a browser:

file:///home/jovyan/.local/share/jupyter/runtime/jpserver-8-open.html

Or copy and paste one of these URLs:

   http://982b516d00bd:8888/lab?token<span class="o">=</span>45bf716d7cf02f1b7157448de04db163df5e80eb78920004

or http://127.0.0.1:8888/lab?token<span class="o">=</span>45bf716d7cf02f1b7157448de04db163df5e80eb78920004
</pre></div>
</div>
<p>Go to you browser and paste <code class="docutils literal notranslate"><span class="pre">http://127.0.0.1:8888/lab?token=45bf716d7cf02f1b7157448de04db163df5e80eb78920004</span></code> in
the address bar to display the application interface.
It your port binding is different, for example <code class="docutils literal notranslate"><span class="pre">-p</span> <span class="pre">10000:8888</span></code>, then you will have to change this address to:
<code class="docutils literal notranslate"><span class="pre">http://127.0.0.1:10000/lab?token=45bf716d7cf02f1b7157448de04db163df5e80eb78920004</span></code>. The token string is necessary
for security reason, but can be replaced by a password.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The first time the Jupyter Lab session is opened for the container, it will need to rebuild the extensions. Click
on the accept button when you are required to do so.</p>
</div>
</section>
</section>


           </div>
          </div>

          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2014-2022 - A.Travert &amp; C.Fernandez @ LCS.
      <span class="lastupdated">Last updated on Oct 14, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>